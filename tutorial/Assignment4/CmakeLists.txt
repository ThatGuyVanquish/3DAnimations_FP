get_filename_component(PROJECT_NAME ${CMAKE_CURRENT_SOURCE_DIR} NAME)

message(STATUS "Creating target: ${PROJECT_NAME}")

project(${PROJECT_NAME})

find_package(Python3 REQUIRED COMPONENTS Development)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}) # set the binary directory to build folder
file(GLOB ${PROJECT_NAME}_SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp ${CMAKE_CURRENT_SOURCE_DIR}/*.h*)
add_executable(${PROJECT_NAME}_bin ${${PROJECT_NAME}_SOURCES} "../../engine/IglMeshLoader.cpp" "../../engine/IglMeshLoader.h" "SceneWithCameras.cpp" "SceneWithCameras.h" "CamModel.h" "../../engine/common.h" "../../engine/Gameplay.cpp" "../../engine/Gameplay.h" "../../engine/ImGuiOverlay.cpp" "../../engine/ImGuiOverlay.h" "../../engine/Leaderboard.h")
target_link_libraries(${PROJECT_NAME}_bin engine igl::core igl::opengl igl::opengl_glfw igl::opengl_glfw_imgui igl::png)
set_target_properties(${PROJECT_NAME}_bin PROPERTIES CXX_STANDARD 20)
set_property(TARGET ${PROJECT_NAME}_bin PROPERTY VS_DEBUGGER_WORKING_DIRECTORY "$(SolutionDir)")